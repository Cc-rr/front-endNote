### 部署并上传云函数

#### 1、云函数的根目录与云函数目录

**cloudfuntions文件夹**图标里有朵小云，表示这就是**云函数根目录**。展开cloudfunctions，我们可以看到里面有login、openapi、callback、echo等文件夹，这些就是**云函数目录**。而**miniprogram文件夹**则放置的是小程序的页面文件。



测试获取openid

app.js文件里的globalData全局对象相当于状态管理器



# open-data

用于展示微信开发数据

https://developers.weixin.qq.com/miniprogram/dev/component/open-data.html

<open-data type="userAvatarUrl"></open-data>

### 2.1.1 文件结构和页面组成

#### 小程序的文件结构

在开发者工具的编辑器里可以看到小程序源文件的根目录下有app.js、app.json和app.wxss，这是小程序必不可少的三个主体文件，下面我们来大致了解一下小程序文件结构（只需要大致了解就可以啦~不理解也没有关系）。

- **app.json**：小程序的公共设置，可以对小程序进行全局配置，决定页面文件的路径、窗口表现、设置多 tab 等；
- **app.wxss**：小程序的公共样式表，可以配置整个小程序的文字的字体、颜色、背景，图片的大小等样式；
- **app.js**：小程序的逻辑（这个可以先放着，不用管）
- **pages文件夹**：这里存放着小程序的所有页面，展开pages文件夹就可以看到有index和logs两个页面文件夹；

#### 2、小程序的页面组成

在每一个页面文件夹里都有四个文件，这四个文件的名称都是一样的，它们分别为：

- **json文件**，和上面的app.json作用基本相同，只是app.json控制的是整个小程序的设置，而页面的json文件只控制单个页面的配置（因为有时候全局配置就够用了，所以页面配置有时候是空的）；
- **wxml文件**，小程序的页面结构，文字、图片、音乐、视频、地图、轮播等组件都会放在这里；
- **wxss文件**，小程序的页面样式，和app.wxss一样是控制样式，而页面的wxss文件是控制单个页面的样式；
- **js文件**，这个是控制小程序页面的逻辑（这个可以先放着，不用管）

### 2.1.2 小程序的全局配置

在前面我们已经提到，**app.json**可以对整个小程序进行**全局配置**，而配置的依据就需要我们参考技术文档了。

**技术文档**：[小程序全局配置](https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Freference%2Fconfiguration%2Fapp.html)

> 打开上面的小程序全局配置技术文档，里面会有很多你看不懂的名称，这是非常正常的，大家也不需要记，**只需要花两三分钟时间**快速浏览一下即可，后面我们会教大家如何结合技术文档来实战学习。

